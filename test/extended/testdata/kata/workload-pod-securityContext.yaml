apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: common-pod-template
objects:
  - apiVersion: v1
    kind: Pod
    metadata:
      labels:
        app: httpd
      name: "${NAME}"
    spec:
      runtimeClassName: "${RUNTIMECLASSNAME}"
      containers:
        - image: registry.redhat.io/rhscl/httpd-24-rhel7
          imagePullPolicy: IfNotPresent
          name: "${NAME}"
          ports:
            - containerPort: 8080
          securityContext:
            runAsNonRoot: true
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            seccompProfile:
              type: RuntimeDefault

parameters:
  - name: RUNTIMECLASSNAME
    value: "kata"
  - name: NAME
