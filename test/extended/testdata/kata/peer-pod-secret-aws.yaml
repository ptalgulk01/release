apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: peer-pod-secret-aws-template
objects:
  - apiVersion: v1
    kind: Secret
    type: Opaque
    metadata:
      name: "${NAME}"
      namespace: "${NAMESPACE}"
    stringData:
      AWS_ACCESS_KEY_ID: "${AWS_ACCESS_KEY_ID}"
      AWS_SECRET_ACCESS_KEY: "${AWS_SECRET_ACCESS_KEY}"
      AWS_REGION: "${AWS_REGION}"
      AWS_SUBNET_ID: "${AWS_SUBNET_ID}"
      AWS_VPC_ID: "${AWS_VPC_ID}"
      AWS_SG_IDS: "${AWS_SG_IDS}"

# oc process --ignore-unknown-parameters=true -f $L/peer-pod-aws-secret-template.yaml -p AWS_ACCESS_KEY_ID="${AWS_ACCESS_KEY_ID}" AWS_SECRET_ACCESS_KEY="${AWS_SECRET_ACCESS_KEY}" AWS_REGION="${AWS_REGION}" AWS_SUBNET_ID="${AWS_SUBNET_ID}" AWS_VPC_ID="${AWS_VPC_ID}" AWS_SG_IDS="${AWS_SG_IDS}"

parameters:
  - name: NAME
    value: "peer-pods-secret"
  - name: NAMESPACE
    value: "openshift-sandboxed-containers-operator"
  - name: AWS_ACCESS_KEY_ID
    value: ""
  - name: AWS_SECRET_ACCESS_KEY
    value: ""
  - name: AWS_REGION
    value: "us-east-2"
  - name: AWS_SUBNET_ID
    value: ""
  - name: AWS_VPC_ID
    value: ""
  - name: AWS_SG_IDS
    value: ""
