apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: peer-pod-secret-aws-template
objects:
  - apiVersion: v1
    kind: Secret
    type: Opaque
    metadata:
      name: "${NAME}"
      namespace: "${NAMESPACE}"
    stringData:
      vxlanPort: "${VXLAN_PORT}"
      cloudProvider: ${CLOUD_PROVIDER}
      cloudRegion: "${CLOUD_REGION}"
      cloudSecret: "${CLOUD_SECRET}"
      podvmImageId: "${PODVM_IMAGE_ID}"
      podvmInstanceType: "${PODVM_INSTANCE_TYPE}"
      awsAccessKeyId: "${AWS_ACCESS_KEY_ID}"

parameters:
  - name: NAME
    value: "peer-pods-secret"
  - name: NAMESPACE
    value: "openshift-sandboxed-containers-operator"
  - name: VXLAN_PORT
    value: "9000"
  - name: CLOUD_PROVIDER
    value: "aws"
  - name: CLOUD_REGION # AWS_REGION
    value: "us-east-2" # optional
  - name: CLOUD_SECRET # AWS_SECRET_ACCESS_KEY
    value: ""
  - name: PODVM_IMAGE_ID # AMI
    value: ""
  - name: PODVM_INSTANCE_TYPE
    value: "t3.small" # optional
  - name: AWS_ACCESS_KEY_ID
    value: ""
#  - name: AWS_SG_IDS
#    value: "" # optional
#  - name: AWS_SUBNET_ID
#    value: "" # optional

# oc process --ignore-unknown-parameters=true -f $L/peer-pod-secret-aws.yaml -p AWS_ACCESS_KEY_ID="" CLOUD_SECRET="" PODVM_IMAGE_ID=""
# This is for Jenkins/end user to create a configmap and apply it to your cluster

