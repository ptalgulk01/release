apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: deployment-template
objects:
  - apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: "${NAME}"
      namespace: "${NAMESPACE}"
    spec:
      replicas: ${{REPLICAS}}
      selector:
        matchLabels:
          app: httpd-app
      template:
        metadata:
          labels:
            app: httpd-app
        spec:
          replicas: 1
          runtimeClassName: kata
          containers:
            - image: "image-registry.openshift-image-registry.svc:5000/openshift/httpd:latest"
              name: "${NAME}"
              ports:
                - containerPort: 8080
              securityContext:
                seccompProfile:
                  type: RuntimeDefault

parameters:
  - name: NAME
    value: "none"
  - name: REPLICAS
    value: "1"
  - name: NAMESPACE
