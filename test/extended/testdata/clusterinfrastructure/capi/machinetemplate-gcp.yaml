apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: machinetemplate-gcp
objects:
  - apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
    kind: GCPMachineTemplate
    metadata:
      name: ${NAME}
      namespace: ${NAMESPACE}
    spec:
      template:
        spec:
          image: ${IMAGE}
          instanceType: ${MACHINETYPE}
          rootDeviceSize: 128
          rootDeviceType: pd-ssd
          serviceAccounts:
            email: ${CLUSTERID}-w@openshift-qe.iam.gserviceaccount.com
            scopes:
            - https://www.googleapis.com/auth/cloud-platform
          subnet: ${SUBNETWORK}
          additionalNetworkTags:
          - ${CLUSTERID}-worker

parameters:
- name: NAME
- name: NAMESPACE
- name: IMAGE
- name: MACHINETYPE
- name: CLUSTERID
- name: SUBNETWORK
