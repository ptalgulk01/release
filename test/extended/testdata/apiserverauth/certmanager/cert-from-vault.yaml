apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: cert-from-vault-template
objects:
  - apiVersion: cert-manager.io/v1
    kind: Certificate
    metadata:
      name: "${CERT_NAME}"
    spec:
      commonName: "${CERT_NAME}"
      usages:
        - server auth
      issuerRef:
        kind: Issuer
        name: "${ISSUER_NAME}"
      secretName: "${CERT_NAME}-tls"
parameters:
  - name: CERT_NAME
  - name: ISSUER_NAME
