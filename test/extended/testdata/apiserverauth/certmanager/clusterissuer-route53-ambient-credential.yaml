apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: route53-ambient-template
objects:
  - apiVersion: cert-manager.io/v1
    kind: ClusterIssuer
    metadata:
      name: "${ISSUER_NAME}"
    spec:
      acme:
        preferredChain: ""
        privateKeySecretRef:
          name: example-issuer-account-key
        server: https://acme-staging-v02.api.letsencrypt.org/directory
        solvers:
        - selector:
            dnsZones:
              - "${DNS_ZONE}"
          dns01:
            route53:
              region: "${AWS_REGION}"
              hostedZoneID: "${ROUTE53_HOSTED_ZONE_ID}"
parameters:
  - name: ISSUER_NAME
  - name: DNS_ZONE
  - name: AWS_REGION
  - name: ROUTE53_HOSTED_ZONE_ID
