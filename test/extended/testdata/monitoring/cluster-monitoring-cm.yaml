apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: monitoring-config-template
objects:
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: "${NAME}"
    namespace: "${NAMESPACE}"
  data:
    config.yaml: |
      enableUserWorkload: ${ENABLEUSERWORKLOAD}
      prometheusK8s:
        retentionSize: 10GiB
        retention: 45d
      alertmanagerMain:
        logLevel: debug
      k8sPrometheusAdapter:
        audit:
          profile: Request
      thanosQuerier:
        enableRequestLogging: true
        logLevel: debug
parameters:
- name: NAME
- name: NAMESPACE
- name: ENABLEUSERWORKLOAD
